# โค้ดตัวอย่างประเมินการ migrate จาก LINE Notify เป็น LINE Messaging API
## วิธีใช้งาน    
    1. ป้อนข้อมูลจำนวนอุปกรณ์ โดยพิจารณาจาก
        - อุปกรณ์ N ตัว ติดตั้งในสถานที่เดียวกัน ให้ป้อนค่า N ตัว
        - อุปกรณ์ N ตัว ติดตั้งใน M สถานที่ มีการรับข้อมูลซ้ำกัน ให้ป้อนค่า N x M 
        - อุปกรณ์ N ตัว ติดตั้งใน M สถานที่ แต่ละสถานที่ไม่รับข้อความซ้ำกัน ให้ป้อนค่า N แล้วแยกคำนวณแต่ละสถานที่
    2. ป้อนข้อมูลจำนวนผู้ใช้งาน
        - ป้อนจำนวนผู้ใช้งาน หากทุกอุปกรณ์ส่งข้อความไปยังกลุ่มผู้ใช้งานเดียวกัน 
        - ป้อนค่า 0 หากแต่ละอุปกรณ์ส่งข้อความไปยังกลุ่มผู้ใช้งานที่แตกต่างกัน จากนั้นไปกรอกข้อมูลจำนวนผู้ใช้งานแต่ละกลุ่มย่อยใน tab **ป้อนข้อมูล**
    3. เลือก tab **ข้อมูลระบบ** จากนั้นป้อนข้อมูลความถี่ในการแจ้งเตือน/รายงาน
    4. เลือก tab **คำนวณค่าใช้จ่าย** เพื่อตรวจสอบค่าบริการ
    5. เลือก tab **แนะนำการ migrate** เพื่อดูวิธีการ migrate จาก LINE Notify สู่ LINE Official Account

## ข้อมูลบริการ LINE Notify และ LINE Official Account

#### การส่งข้อความจากอุปกรณ์ IoT ผ่าน LINE Notify 
    การใช้บริการเริ่มจากลงทะเบียนเข้าใช้งาน LINE Notify จากนั้นเตรียม 
    - QR Code สำหรับให้ผู้ใช้สมัครรับข้อความ
    - token สำหรับใช้ส่งข้อความผ่าน REST API
             
    เมื่ออุปกรณ์ IoT ส่ง POST request ด้วย token ไปยังบริการ LINE Notify ทาง LINE จะส่งข้อความไปยังผู้ใช้งานที่ลงทะเบียนไว้แล้ว
    การสื่อสารจะเป็นการส่งข้อมูลแบบทางเดียว เน้นแจ้งเตือน/รายงานสถานะของอุปกรณ์ **ไม่มีค่าบริการในการส่งข้อความ**

#### การส่งข้อความจากอุปกรณ์ IoT ผ่าน LINE Official Account
    การส่งข้อความต้องเตรียม server สำหรับเชื่อมต่อ LINE messaging API และ database สำหรับเก็บข้อมูลของผู้ใช้งาน การพัฒนาบริการเริ่มจาก
    - สมัคร LINE Official Account
    - สร้าง LINE messaging API channel จะได้ QR code สำหรับให้ผู้ใช้งานสมัคร หรืออาจสมัครผ่านการ search
    - นำ secret และ access token ไปเขียนโค้ด webhook 
    - สร้าง database สำหรับเก็บข้อมูล user id ของผู้ใช้งานตอนสมัคร (ผ่าน follow event)
    - เตรียม REST endpoint สำหรับรับข้อมูลจากอุปกรณ์ IoT
    
    **มีค่าบริการในการส่งข้อความ** โดยนับจากจำนวนผู้ใช้งานที่ได้รับข้อความ (reach)
    - free plan ส่งได้ไม่เกิน 300 reach/เดือน
    - basic plan เดือนละ 1,280+VAT บาท คิดเงินเพิ่มหากเกิน 15,000 reach/เดือน
    - pro plan เดือนละ 1,780+VAT บาท คิดเงินเพิ่มหากเกิน 35,000 reach/เดือน 

    การเตรียม server จะมีค่าบริการในส่วน server และต้องพัฒนาส่วนของระบบ token เอง
    ในกรณีต้องการสื่อสารระหว่างอุปกรณ์ IoT และผู้ใช้งานแบบสองทาง แนะนำให้ใช้โพรโทคอล MQTT ในการรับส่งข้อมูล ซึ่งจะมีค่าใช้จ่ายเพิ่มในส่วน private MQTT broker 
